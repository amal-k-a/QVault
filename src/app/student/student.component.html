<!-- Student Component HTML -->
<body class="bg-blue-100 font-sans">
  <!-- Navbar (unchanged) -->
  <nav class="fixed top-0 left-0 right-0 h-20 z-20 flex items-center justify-between p-10
       bg-gradient-to-r from-[#0b1e34]/70 via-[#1a2d4a]/70 to-[#10273f]/70
       backdrop-blur-md border-b border-white/10 shadow-md shadow-[#0b1e34]/30">
    <!-- Left: Logo -->
    <div class="flex flex-wrap items-center justify-between gap-2">
      <img src="assets\Images\qvault.png" class="h-32" alt="KJC Logo" />
    </div>
    <!-- Center: Image -->
    <img src="assets\Images\kju.png" class="h-14" alt="Kristu Jayanti Logo" />
    <!-- Right: Email & Avatar -->
    <div class="flex items-center space-x-3">
      <span class="text-white">23bcna10&#64;gmail.com</span>
      <div class="w-8 h-8 rounded-full bg-green-700 flex items-center justify-center text-white font-semibold">
        A
      </div>
    </div>
  </nav>

  <div class="flex pt-20 h-screen overflow-hidden absolute">
    <!-- Sidebar -->
    <div class="group bg-[#1e293b] text-white h-full w-16 hover:w-64 fixed transition-all duration-300 z-10">
      <div class="h-full flex flex-col justify-between py-10">
        <nav class="p-2 space-y-1">
          <a [routerLink]="['/home']" class="flex items-center p-3 rounded-lg hover:bg-blue-600">
            <svg class="w-6 h-6 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6" />
            </svg>
            <span class="ml-4 whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity">Home</span>
          </a>
          <a href="#" class="flex items-center p-3 rounded-lg hover:bg-blue-600">
            <svg class="w-6 h-6 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z" />
            </svg>
            <span class="ml-4 whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity">Bookmarks</span>
          </a>
          <a href="#" class="flex items-center p-3 rounded-lg hover:bg-blue-600">
            <svg class="w-6 h-6 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
            </svg>
            <span class="ml-4 whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity">Contact Us</span>
          </a>
          <a href="#" class="flex items-center p-3 rounded-lg hover:bg-blue-600">
            <svg class="w-6 h-6 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
            </svg>
            <span class="ml-4 whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity">About Us</span>
          </a>
        </nav>
        <div class="py-14">
          <a href="#" class="flex items-center p-3 rounded-lg hover:bg-blue-600">
            <svg class="w-6 h-6 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1" />
            </svg>
            <span class="ml-4 whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity">Logout</span>
          </a>
        </div>
      </div>
    </div>
  </div>

  <div class="relative">
    <img src="assets\Images\clg_history.jpg">
    <div class="flex justify-center items-center text-xm text-white -mt-[48px] bg-white/30 backdrop-blur-sm absolute text-center">
      <span class="ml-24 mr-20">This platform is your digital access point to previous year question papers of Kristu Jayanti University. Easily browse and download papers from anywhere without visiting the library. Updated regularly to match the latest curriculum, it's a reliable resource to help you prepare effectively and stay ahead.</span>
    </div>
  </div>

  <div class="flex flex-col px-4 bg-white mt-10 rounded-2xl mr-10 ml-24">
    <!-- Filter Section -->
    <div class="mb-6 flex justify-end py-2">
      <details class="group" (toggle)="updateCourseOptions()">
        <summary class="flex items-center cursor-pointer bg-blue-100 text-gray-700 px-4 py-2 rounded-lg mb-3 list-none">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" viewBox="0 0 20 20" fill="currentColor">
            <path fill-rule="evenodd" d="M3 3a1 1 0 011-1h12a1 1 0 011 1v3a1 1 0 01-.293.707L12 11.414V15a1 1 0 01-.293.707l-2 2A1 1 0 018 17v-5.586L3.293 6.707A1 1 0 013 6V3z" clip-rule="evenodd" />
          </svg>
          Filters
        </summary>
        <div class="bg-gray-300 p-4 rounded-lg shadow-md mt-2 absolute right-0 mr-10 z-10 w-[300px]">
          <div class="flex flex-wrap gap-4 items-end">
            <div class="min-w-[180px]">
              <label class="block text-gray-700 text-sm mb-1">Department:</label>
              <select class="w-full bg-[#1e293b] border border-[#1e293b] text-white text-sm rounded p-2 focus:ring-2 focus:ring-blue-400 focus:border-transparent"
                [(ngModel)]="selectedDepartment" (change)="updateCourseOptions()">
                <option *ngFor="let dept of departments" [value]="dept">{{dept}}</option>
              </select>
            </div>
            <div class="min-w-[160px]">
              <label class="block text-gray-700 text-sm mb-1">Course</label>
              <select class="w-full bg-[#1e293b] border border-[#1e293b] text-white text-sm rounded p-2"
                [(ngModel)]="selectedCourse">
                <option *ngFor="let course of courses" [value]="course.value">{{course.display}}</option>
              </select>
            </div>
            <div class="flex gap-2 ml-auto">
              <button type="reset" class="px-4 py-2 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300" (click)="resetFilters()">
                Reset
              </button>
              <button type="submit" class="px-4 py-2 bg-[#1e293b] text-white rounded-lg hover:bg-[#1e40af]" (click)="applyFilters()">
                Apply
              </button>
            </div>
          </div>
        </div>
      </details>
    </div>

    <!-- Department Sections -->
    <ng-container *ngFor="let department of ['Computer Science', 'Life Science', 'Forensic Science']">
      <div class="py-4 pl-6" *ngIf="hasDepartmentCourses(department)">
        <span class="text-blue-950 font-semibold">Department of {{department}}[UG]</span>
        <div class="py-4 grid grid-cols-3 gap-4">
          <a *ngFor="let course of getCoursesByDepartment(department)"
            [routerLink]="['/student/questionpaper']"
            [queryParams]="{ course: course.name, specialization: course.specialization }"
            class="w-[320px] h-[164px] bg-blue-50 border border-gray-200 rounded-lg shadow-sm flex hover:shadow-lg cursor-pointer no-underline">
            <div class="flex-shrink-0 flex items-center h-full pl-4">
              <img class="w-10 h-10 object-cover rounded-l-lg" [src]="course.icon" alt="Course image" />
            </div>
            <div class="flex flex-col items-center justify-center p-4 flex-1">
              <span class="text-3xl font-bold text-gray-900">{{course.name}}</span>
              <span class="text-lg text-blue-950 font-semibold">{{course.specialization}}</span>
            </div>
          </a>
        </div>
      </div>
    </ng-container>
  </div>
</body>
